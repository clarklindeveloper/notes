<style>img{max-width:100%;height:auto}</style><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" /><body><div><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Angular (ADVANCED)<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Ultimate Angular<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">02. Advanced Components<span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">Content projection with  &lt;ng-content&gt;     //(step1)<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">when you project (pass content) into a component <br />and use the built in angular &lt;ng-content&gt;&lt;/ng-content&gt; directive to dictate where content should appear<br /><br />projected content replaces &lt;ng-content&gt; tags<br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*PARENT<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(app.component)<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />&#x09;selector:”app-component”,<br />&#x09;template:`<br />&#x09;&#x09;&lt;div&gt;<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//example1 <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(step1 using basic &lt;ng-content&gt;)</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-form (submitted)=“</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">createUser($event)</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">”&gt;<br /><br />&#x09;&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;h3&gt;Create User&lt;/h3&gt;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;//projecting header //injected into &lt;ng-content&gt; slot in *Child&#x09;&#x09;<br /><br />&#x09;&#x09;&#x09;&lt;/auth-form&gt;<br /><br />=====================================================<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//example2 <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(step2 using projection slot)</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br />&#x09;&#x09;&#x09;&lt;auth-form (submitted)=“</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">LoginUser($event)</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">”&gt;<br />&#x09;&#x09;&#x09;&#x09;<br />&#x09;&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;h3&gt;Login User&lt;/h3&gt;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;//projecting header //injected into &lt;ng-content&gt; slot in *Child<br />&#x09;&#x09;&#x09;&#x09;<br />&#x09;&#x09;&#x09;&lt;/auth-form&gt;<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&lt;/div&gt;<br />&#x09;`<br />})<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br /><br />———————————————<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*CHILD<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(auth.form.component) &lt;auth-form&gt;<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />&#x09;selector:”<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">auth-form</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">”,<br />&#x09;template:`<br />&#x09;&#x09;&lt;div&gt;<br />&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(step1)</span><span><br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&#x09;&lt;ng-content&gt;&lt;/ng-content&gt;&#x09;&#x09;&#x09;&#x09;&#x09;//projected content goes inside &lt;ng-content&gt;&lt;/ng-content&gt;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&lt;/div&gt;<br />&#x09;`<br />})</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />———————————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(step2) </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">projection slots with:    select=‘’<br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">injection slot tells Angular where to inject a particular piece of information.<br />all you have to do is acreate an attribute (select=) on the ng-content telling it what to select<br />&lt;button type=“submit’&gt;&lt;/button&gt; activates the &lt;auth-form (submitted)=“createUser($event)”&gt;<br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*CHILD<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;ng-content select=“<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">what we are pulling from </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*Parent</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"> </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">”&gt;&lt;/ng-content&gt;<br />select= can be a .class, #i or html element<br /><br /><br />eg.<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"> <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*Parent </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(app.component)<br /></span></span><span><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-form <span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">(submitted)=“</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">createUser($event)</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">”</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&gt;<br />&#x09;&lt;h3&gt;&lt;/h3&gt;<br />&#x09;&lt;button type=“submit”&gt;&lt;/button&gt;<br />&lt;/auth-form&gt;<br /><br />&lt;auth-form </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">(submitted)=“</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">LoginUser($event)</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">”</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&gt;<br />&#x09;&lt;h3&gt;&lt;/h3&gt;<br />&#x09;&lt;button type=“submit”&gt;&lt;/button&gt;<br />&lt;/auth-form&gt;<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />CHILD<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(auth.form.component) &lt;auth-form&gt; component<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />&#x09;selector:”<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">auth-form</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">”,<br />&#x09;template:`<br />&#x09;&#x09;&lt;div&gt;<br />&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(step2)<br />&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;form&gt;</span><span><br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;ng-content</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none"> </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">select=“h3”</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&gt;&lt;/ng-content&gt;<br />&#x09;&#x09;&#x09;&lt;ng-content </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">select=“button”</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&gt;&lt;/ng-content&gt;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"> //projected content goes inside &lt;ng-content&gt;&lt;/ng-content&gt;<br /></span></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&lt;/form&gt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&lt;/div&gt;<br />&#x09;`<br />})</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">———————————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">Projecting components into ng-content<br />and bind to it<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />*CHILD<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(auth-remember.component.ts) <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">binding to a checkbox,<br />when checkbox is changed we call ‘onChecked( $event:boolean )’<br />onChecked passes in argument whether checked or not (is a boolean)<br />then in Component (AuthRememberComponent),<br />we have an output called “checked” which is updated by onChecked method,<br />which gets emitted to parent<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*PARENT<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">in the login &lt;auth-form&gt;, <br />we use the &lt;auth-remember&gt;&lt;/auth-remember&gt; and project into &lt;auth-form&gt;<br />we use (checked)=“” to see if user has been checked or not<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">which calls rememberUser()<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br />*parent </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">(app.component.ts)<br /><br />import {Component } from ‘@angular/core’;<br />import {User} from ‘./auth-form/auth-form.interface’;<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"> @Component({<br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">&#x09;selector:’app-root’,<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">template:`<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&lt;div&gt;<br /></span><span><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-form<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;(submitted)=“loginUser($event)”<br />&#x09;&#x09;&lt;h3&gt;&lt;/h3&gt;<br />&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&lt;auth-remember<br />&#x09;&#x09;&#x09;(checked)=“rememberUser($event)”&#x09;&#x09;//event is a boolean gets passed in<br />&#x09;&#x09;&gt;<br />&#x09;&#x09;&lt;/auth-remember&gt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&lt;button type=“submit”&gt;<br />&#x09;&#x09;&lt;/button&gt;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">&gt;<span><br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;/auth-form&gt;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;/div&gt;<br />`<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">})<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />…<br /><br />export Class AppComponent{<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;rememberMe:boolean = false;&#x09;&#x09;&#x09;//default <br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;rememberUser(remember){<br />&#x09;&#x09;this.rememberMe = remember; &#x09;}<br /><br />&#x09;createUser(user:User){<br />&#x09;&#x09;console.log(‘create account’, user);<br />&#x09;}<br /><br />&#x09;loginUser(user:User){<br />&#x09;&#x09;console.log(‘Login’, user, <span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">this.rememberMe</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">);&#x09;&#x09;&#x09;//pass in somewhere  &#x09;}<br />}<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">(auth-form.component.ts)<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">here we target the selector in &lt;ng-content select=‘auth-remember’&gt;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br />*PARENT (container)<br />@Component(<br />{<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">selector:’<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">auth-form</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">’,<br />template:`&lt;div&gt;<br />&#x09;&lt;form (ngSubmit)=“onSubmit(form.value)” #form=“ngForm”&gt;<br />&#x09;&#x09;&lt;ng-content select=“h3”&gt;&lt;/ng-content&gt;<br />&#x09;&#x09;&lt;label&gt;<br />&#x09;&#x09;&#x09;Email:<br />&#x09;&#x09;&#x09;&lt;input type=“email” name=“email” ngModel&gt;<br />&#x09;&#x09;&lt;/label&gt;<br />&#x09;&#x09;&lt;label&gt;<br />&#x09;&#x09;&#x09;Password:<br />&#x09;&#x09;&#x09;&lt;input type=“password” name=“password” ngModel&gt;<br />&#x09;&#x09;&lt;/label&gt;<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&lt;ng-content select=“auth-remember”&gt;&lt;/ng-content&gt;<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;&lt;ng-content select=“button”&gt;&lt;/ng-content&gt;<br />&#x09;&lt;/form&gt;<br />&lt;/div&gt;<br /><br />`<br />})<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">export class AuthFormComponent{}<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />————————————————————<br /><br />*child<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(auth-remember.component.ts)<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br />import {Component, Output, EventEmitter} from ‘@angular/core’;<br />@Component({<br />&#x09;selector: ‘</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">auth-remember’</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">,<br />&#x09;template:`<br />&#x09;&#x09;&lt;label&gt;<br />&#x09;&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;input type=“checkbox” (change)=“onChecked($event.target.checked)”&gt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;&lt;/label&gt;<br />&#x09;`<br />})<br /><br />export class AuthRememberComponent{<br />&#x09;@Output() checked:EventEmitter&lt;boolean&gt; = new EventEmitter&lt;boolean&gt;();<br />&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">onChecked</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">(value:boolean){<br />&#x09;&#x09;this.checked.emit(value);<br />&#x09;}<br />}<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-size: 4em;font-weight: bold;font-style: normal;text-decoration: none">contentChild <span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">queryList / aftercontentInit<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br />*PARENT <br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">everything inside a component, counts as a contentChild<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;component&gt;&#x09;<br /></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;…everything inside is considered a content child of the component&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&lt;/component&gt;<br /><br />eg.</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*PARENT (app.component.ts)</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&lt;auth-form (submitted)=“loginUser($event)”&gt;<br />&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;auth-remember (checked)=“rememberUser($event)”&gt;&lt;/auth-remember&gt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&lt;/auth-form&gt;<br /><br />———————————<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*CHILD<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">we can listen to changes of our content by querying the content through <br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"> content-child<br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">so we want to listen to (checked) from &lt;auth-form&gt;<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />so inside ngContent, we can look at whats inside, and inside the form, <br />we can listen to those change<br />and talk to our projected content directly<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">create a &lt;div&gt;  and *ngIf when ng-content does something<br /><br />we want to make showMessage depend on “auth-remember” component<br /><br />inside component class , we create a property showMessage,<br />how do we get access to the projected content?<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"> <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">WE IMPORT the component what we want to query/lookup so we have reference to it</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">import { AuthRememberComponent} from ‘./auth-remember.component’;<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">we import ContentChild and AfterContentInit<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />import { ContentChild, AfterContentInit } from ‘@angular/core’;<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">the child &lt;ng-content select=“auth-remember”&gt;&lt;/ng-content&gt; component gets <br />replaced by whats passed down from the parent<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;auth-remember (checked)=“rememberUser($event)”&gt;&lt;/auth-remember&gt;<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">thats why we imported <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">AuthRememberComponent<br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">then in the class we do a <br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">@ContentChild() remember:AuthRememberComponent;<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">which allows us to query the &lt;auth-remember&gt; component<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />and we pass in the AuthRememberComponent<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">@ContentChild(AuthRememberComponent) remember:AuthRememberComponent;<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />remember is an instance of the component,<br />then in <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterContentInit() </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">can access remember<br />and we do if(this.remember){} which means we have access to this component,</span><span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">we can subscribe to events @output,<br />so AuthRememberComponent outputs ‘checked’<br /><br />and we subscribe to it, and assign showMessage to it.<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">this.remember.checked.subscribe((checked:boolean) =&gt;{<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">this.showMessage = checked;<br />});</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />eg. *CHILD (auth-form.components.ts)<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">import { AuthRememberComponent} from ‘./auth-remember.component’;<br />import { <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Component, Output, EventEmitter, </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ContentChild, AfterContentInit } from ‘@angular/core’;<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import {User} from ‘./auth-form.interface’;<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />template:`<span><br /></span></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;ng-content select=“<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">auth-remember</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">”&gt;&lt;/ng-content&gt;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//in parent we listen to ‘checked’<br /><br /></span></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;div *ngIf=“showMessage”&gt;<span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//we can listen to changes our content by querying the content through coontent-child</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;you will be logged in for 30 days<span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&lt;/div&gt;<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">`<br />})<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />export class AuthFormComponent <span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">implements AfterContentInit</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">{<br /></span></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;showMessage:boolean;<br /><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">@ContentChild(AuthRememberComponent) </span><span style="color: rgb(255,38,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">remember</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">:AuthRememberComponent;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">@Output() submitted: EventEmitter&lt;User&gt; = new EventEmitter&lt;User&gt;();<br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterContentInit(){<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;//we can access remember from @ContentChild here..<br />&#x09;&#x09;//remember is a reference to the AuthRememberComponent<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;if(this.remember){<br />&#x09;&#x09;&#x09;this.remember.checked.subscribe((checked:boolean) =&gt;{<br />&#x09;&#x09;&#x09;&#x09;this.showMessage = checked;<br />&#x09;&#x09;&#x09;}); &#x09;&#x09;} &#x09;}&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;onSubmit(value:User){&#x09;<br />&#x09;&#x09;this.submitted.emit(value);<br />&#x09;}<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />}<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-size: 4em;font-weight: bold;font-style: normal;text-decoration: none">contentChildren<br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">querylists <br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">in this example we duplicate the component &lt;auth-remember&gt; in app.component<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">we want to make a query on injected content<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />(app.component.ts)<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;auth-form (submitted)=“”&gt;<br />…<span><br /></span></span><span style="color: rgb(255,38,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-remember (checked)=“remberUser($event)”&gt;&lt;/auth-remember&gt;<br />&lt;auth-remember (checked)=“remberUser($event)”&gt;&lt;/auth-remember&gt;<br />&lt;auth-remember (checked)=“remberUser($event)”&gt;&lt;/auth-remember&gt;<br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">…<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;/auth-form&gt;<br /><br />———————————<br /></span><ul><li><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">update the import ContentChild to ContentChildren</span></li><li><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import QueryList</span></li><li><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">update rember to return a QueryList each item is of type AuthRememberComponent</span></li></ul><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">(auth-form.component.ts)<br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">import {<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"> </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Component, Output, EventEmitter, </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ContentChildren, QueryList</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">, AfterContentInit } from ‘@angular/core’;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">…<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">export class AuthFormComponent implements AfterContentInit{<br />&#x09;showMessage:boolean;<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;@ContentChildren<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">(AuthRememberComponent) remember</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">:QueryList&lt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">AuthRememberComponent</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&gt;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">;<br />&#x09;@Output() submitted: EventEmitter&lt;User&gt; = new EventEmitter&lt;User&gt;();</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;ngAfterContentInit(){<br />&#x09;&#x09;if(this.remember){<br />&#x09;&#x09;&#x09;console.log(remember);&#x09;&#x09;//result is an array<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&#x09;this.remember.forEach((item) =&gt; {&#x09;&#x09;&#x09;//item is AuthRememberComponent type<br />&#x09;&#x09;&#x09;&#x09;item.checked.subscribe((checked:boolean) =&gt; this.showMessage = checked);<br />&#x09;&#x09;&#x09;});<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;} &#x09;} }<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-size: 4em;font-weight: bold;font-style: normal;text-decoration: none">viewChild<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">we query the view we are currently inside<br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: bold;font-style: normal;text-decoration: none">viewChild is query of the same component<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">(app.component.ts)<br />&lt;auth-form&gt;<br /></span><span style="color: rgb(255,38,0);font-size: 1.5em;font-weight: bold;font-style: normal;text-decoration: none">&#x09;content child<span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none"><br />&lt;/auth-form&gt;<br /><br /></span></span><span style="color: rgb(0,0,0);font-size: 3em;font-weight: bold;font-style: normal;text-decoration: none">BUT….<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message&gt; is a viewChild of <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">auth-form.</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">component</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />because it is not projected in with &lt;ng-content&gt;<br /><br />then in </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*CHILD (auth-form.components.ts)<br /><br />we import the class we want to reference<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">import { AuthMessageComponent } from ‘./auth-message.component’;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br />we import </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ViewChild, AfterViewInit<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">now implement<br /><br />export class AuthFormComponent implements AfterContentInit<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">, AfterViewIInit</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">{<br />&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">@ViewChild(AuthMessageComponent) message : AuthMessageComponent;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />}</span><span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">———————————————<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">*CHILD (auth-form.component.ts)<br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">&#x09;we make a component (auth-message.component.ts) out from<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;div *ngIf=“showMessage”&gt;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;//we can listen to changes our content by querying the content through coontent-child</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;you will be logged in for 30 days<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&lt;/div&gt;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none"><br />and update with <br /><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message <br />&#x09;&#x09;[style.display]=“(showMesage ? ‘inherit’ | ’none’)”<br />&gt;<br />&lt;/auth-message&gt;<br /><br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">———————————————<br /><br />and create a new class <span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: bold;font-style: normal;text-decoration: none">(auth-message.component.ts)</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />import { Component } <br /></span></span><span><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">@Component({<br />&#x09;selector: ‘auth-message’,<br />&#x09;template:`<br />&#x09;&#x09;&lt;div&gt;<br />&#x09;&#x09;&#x09;you will be logged in for {{days}} days<br />&#x09;&#x09;&lt;/div&gt;<br />&#x09;`<br />})<br />export class AuthMessageComponent{<br />&#x09;days: number = 7;<br />}<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">———————————————<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">REVISITED<br /><br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">eg. *CHILD (auth-form.component.ts)<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />import { <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Component, Output, </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ViewChild, AfterViewInit, </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">EventEmitter, </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ContentChildren, QueryList, AfterContentInit } from ‘@angular/core’;<br /><br />import { AuthRememberComponent} from ‘./auth-remember.component’;<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">import { AuthMessageComponent } from ‘./auth-message.component’;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import {User} from ‘./auth-form.interface’;<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />template:`<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;ng-content select=“<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">auth-remember</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">”&gt;&lt;/ng-content&gt;&#x09;//in parent we listen to ‘checked’<br /><br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message <br />&#x09;&#x09;[style.display]=“(showMesage ? ‘inherit’ | ’none’)”<br />&gt;<br />&lt;/auth-message&gt;<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">`<br />})<span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">export class AuthFormComponent<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"> </span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">implements AfterContentInit</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">, AfterViewInit</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">{<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;<br />&#x09;showMessage:boolean;<br />&#x09;<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;@ViewChild(AuthMessageComponent) message : AuthMessageComponent;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">@ContentChild(AuthRememberComponent) </span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">remember</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">:AuthRememberComponent;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br />&#x09;@Output() submitted: EventEmitter&lt;User&gt; = new EventEmitter&lt;User&gt;();<br /><br />&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterViewInit(){<br />&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">console.log(this.message);</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">//this.message.days = 30;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">//error use ngAfterContentInit()</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;}</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterContentInit(){<br />&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">if(this.message){<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">this.message.days = 30;&#x09;&#x09;//override default value of 7<br />&#x09;&#x09;}</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;//we can access remember from @ContentChild here..<br />&#x09;&#x09;//remember is a reference to the AuthRememberComponent<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;if(this.remember){<br />&#x09;&#x09;&#x09;this.remember.checked.subscribe((checked:boolean) =&gt;{<br />&#x09;&#x09;&#x09;&#x09;this.showMessage = checked;<br />&#x09;&#x09;&#x09;}); &#x09;&#x09;} &#x09;}&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;onSubmit(value:User){&#x09;<br />&#x09;&#x09;this.submitted.emit(value);<br />&#x09;}<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />}<br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-size: 4em;font-weight: bold;font-style: normal;text-decoration: none">viewChildren <br /></span><span style="color: rgb(0,0,0);font-size: 1.5em;font-weight: normal;font-style: normal;text-decoration: none">and how to use QueryList<br /><br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">@ViewChildren is only accessible inside the <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">ngAfterViewInit()</span><span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">REVISITED (auth-form.component.ts)<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">import { <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Component, </span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">ChangeDetectorRef, </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Output, </span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">ViewChildren</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">, AfterViewInit, </span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">EventEmitter, </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ContentChildren, QueryList, AfterContentInit } from ‘@angular/core’;<br /><br />import { AuthRememberComponent} from ‘./auth-remember.component’;<br />import { AuthMessageComponent } from ‘./auth-message.component’;<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import {User} from ‘./auth-form.interface’;<br /><br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">this.cd.detectChanges();&#x09; <span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">tells angular a change has been made after view has been initialized<br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">@Component({<br />template:`<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;ng-content select=“<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">auth-remember</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">”&gt;&lt;/ng-content&gt;&#x09;//in parent we listen to ‘checked’<br />…<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message <br />&#x09;&#x09;[style.display]=“(showMesage ? ‘inherit’ | ’none’)”&gt;<br />&lt;/auth-message&gt;<br /></span><span><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message <br />&#x09;&#x09;[style.display]=“(showMesage ? ‘inherit’ | ’none’)”&gt;<br />&lt;/auth-message&gt;<br /></span><span><br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&lt;auth-message <br />&#x09;&#x09;[style.display]=“(showMesage ? ‘inherit’ | ’none’)”&gt;<br />&lt;/auth-message&gt;<span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">`<br />})<span><br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">export class AuthFormComponent<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"> </span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none">implements AfterContentInit</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">, AfterViewInit</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">{<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;<br />&#x09;showMessage:boolean;<br />&#x09;<br /></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(255,38,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">@ViewChildren</span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">(AuthMessageComponent) message : </span><span style="color: rgb(255,38,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">QueryList&lt;</span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">AuthMessageComponent</span><span style="color: rgb(255,38,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">&gt;</span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">@ContentChild(AuthRememberComponent) </span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: bold;font-style: normal;text-decoration: none">remember</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">:AuthRememberComponent;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br />&#x09;@Output() submitted: EventEmitter&lt;User&gt; = new EventEmitter&lt;User&gt;();<br /><br /></span></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;constructor(private cd: ChangeDetectorRef){}<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;<br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterViewInit(){<br />&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">if(this.message){<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">this.message</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">.forEach((message) =&gt; {<br />&#x09;&#x09;&#x09;&#x09;message.days = 30;&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;//override all the values<br />&#x09;&#x09;&#x09;}); </span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;<br />&#x09;&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">this.cd.detectChanges();&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//removes those errors caused by changing values in production</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;}<br />&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;}</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">ngAfterContentInit(){<br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;if(this.remember){<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">this.remember.forEach((item) =&gt; {&#x09;&#x09;&#x09;<br />&#x09;&#x09;&#x09;item.checked.subscribe((checked:boolean) =&gt; this.showMessage = checked);<br />&#x09;&#x09;});<br />&#x09;}<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">}<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"> &#x09;&#x09;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;onSubmit(value:User){&#x09;<br />&#x09;&#x09;this.submitted.emit(value);<br />&#x09;}<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />}<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">referencing an child Element directly with #<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">and <span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">nativeElement<br /></span></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">viewChild available inside ngAfterContentInit(),<br />viewChildren will not be available because it is a dynamic list.<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">ElementRef allow us to talk to the nativeElement<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">@ViewChild(‘email’) email:ElementRef; &#x09;<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">giving us the element reference which allows us to access the native elelement <br />inside the ngAfterViewInit()<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />which exposes the native element to you,<br />giving us access to the native DOM nodes,<br />———————————————<br />(app.component.ts)<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;auth-form&gt;<br />&lt;/auth-form&gt;<br /><br />—————————<br /><br />(auth-form.component.ts)<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import {<span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">ElementRef</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">} from ‘@angular/core’</span><span><br /></span></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none"><br /><br />template:`<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">…<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;label&gt;<br />&#x09;Email<br />&#x09;&lt;input type=“email” name=“email”<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"> ngModel</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"> #email</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&gt;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;/label&gt;<br />`<br /><br />…<br /><br />export class AuthFormComponent implements …{<br />&#x09;<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;@ViewChild(‘email’) email:ElementRef;<br /><br /></span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;ngAfterViewInit(){<br />&#x09;&#x09;<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;console.log(this.email);&#x09;&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//a native element. here it is &lt;input&gt;<br />&#x09;&#x09;<br />&#x09;&#x09;//</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;this.email.nativeElement.setAttribute(‘placeholder’, ‘some value’)&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//then do something with the native element…<br /></span></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;this.email.nativeElement.classList.add(‘email’);&#x09;<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//add class ‘email’ to the &lt;input&gt;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;</span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">this.email.nativeElement.focus();&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//auto focus</span><span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none"> &#x09;}<br /><br />&#x09;ngAfterContentInit(){<br />&#x09;&#x09;… &#x09;}</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />}</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">Platform renderer (an alternative to nativeElement)<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">allows us to distribute code across environments, <br />keeping code platform safe<br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import the Renderer<br />inject renderer into contructor<br /><br /></span><span><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">(auth-form.component.ts)<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">import {ElementRef, <span style="color: rgb(255,38,0);font-weight: normal;font-style: normal;text-decoration: none">Renderer</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">} from ‘@angular/core’</span><span><br /></span></span><span style="color: rgb(0,0,0);font-size: 1.13em;font-weight: normal;font-style: normal;text-decoration: none"><br /><br />template:`<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">…<br /><br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;label&gt;<br />&#x09;Email<br />&#x09;&lt;input type=“email” name=“email”<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"> ngModel</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"> #email</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&gt;</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&lt;/label&gt;<br />`<br /><br />…<br /><br />export class AuthFormComponent implements …{<br />&#x09;<br /></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;@ViewChild(‘email’) email:ElementRef;<br /><br />&#x09;constructor(<br /></span><span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;private renderer:Renderer,<span><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;&#x09;private cd:ChangeDetectorRef<span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;){}<br /><br /></span></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">&#x09;ngAfterViewInit(){<br />&#x09;&#x09;<span style="color: rgb(255,38,0);font-weight: bold;font-style: normal;text-decoration: none">//renderer method<br />&#x09;&#x09;this.renderer.setElementAttribute(this.email.nativeElement, ‘placeholder’, ‘enter your email address’);<br />&#x09;&#x09;this.renderer.setElementClass(this.email.nativeElement, ‘email’, true);<br />&#x09;&#x09;this.renderer.invokeElementMethod(this.email.nativeElement, ‘focus’);</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br />&#x09;&#x09;//nativeElement method</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;this.email.nativeElement.setAttribute(‘placeholder’, ‘some value’)&#x09;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">//then do something with the native element…<br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">&#x09;&#x09;this.email.nativeElement.classList.add(‘email’);&#x09;&#x09;<span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//add class ‘email’ to the &lt;input&gt;</span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none"><br />&#x09;&#x09;this.email.nativeElement.focus();&#x09;&#x09;&#x09;&#x09;&#x09;&#x09;</span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none">//auto focus &#x09;}<br /><br />&#x09;ngAfterContentInit(){<br />&#x09;&#x09;… &#x09;}<br />}</span><span><br /></span></span><span style="color: rgb(0,0,0);font-weight: bold;font-style: normal;text-decoration: none">———————————————————————————————<br /></span><span style="color: rgb(0,0,0);font-weight: normal;font-style: normal;text-decoration: none"><br /><br /><br /></span></div></body>